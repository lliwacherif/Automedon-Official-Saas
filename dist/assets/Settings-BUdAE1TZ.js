import{d as C,u as P,r,e as m,o as i,g as s,C as N,h as g,j as x,k as V,f as c,l as p,v as f,i as b,b as B,W as A}from"./index-_ynkWjCr.js";import{A as S}from"./arrow-left-CSPAy_Nn.js";import{L as R}from"./loader-circle-C3H0fwz6.js";const _={class:"min-h-screen bg-gray-50"},j={class:"bg-gray-900 text-white shadow"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},D={class:"p-6 max-w-7xl mx-auto"},E={class:"max-w-md mx-auto bg-white rounded-lg shadow p-6 mt-10"},L={key:0,class:"text-red-600 text-sm bg-red-50 p-3 rounded-md"},U={key:1,class:"text-green-600 text-sm bg-green-50 p-3 rounded-md"},M=["disabled"],G=C({__name:"Settings",setup(T){const v=P(),y=A(),l=r(""),t=r(""),d=r(""),n=r(!1),o=r(""),u=r(""),h=async()=>{if(o.value="",u.value="",t.value!==d.value){o.value="New passwords do not match";return}if(t.value.length<6){o.value="Password must be at least 6 characters";return}n.value=!0;try{await v.changeAdminPassword(l.value,t.value),u.value="Root password changed successfully",l.value="",t.value="",d.value=""}catch(w){o.value=w.message||"Failed to change password"}finally{n.value=!1}},k=()=>{y.push({name:"root.dashboard"})};return(w,e)=>(i(),m("div",_,[s("header",j,[s("div",q,[e[4]||(e[4]=s("div",{class:"flex items-center space-x-3"},[s("span",{class:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-orange-500"}," Automedon Root ")],-1)),s("div",null,[s("button",{onClick:k,class:"text-gray-300 hover:text-white flex items-center gap-1"},[N(x(S),{class:"w-4 h-4"}),e[3]||(e[3]=g(" Back to Dashboard ",-1))])])])]),s("div",D,[s("div",E,[e[9]||(e[9]=s("h2",{class:"text-xl font-bold mb-6 text-gray-800 border-b pb-2"},"Change Root Password",-1)),s("form",{onSubmit:V(h,["prevent"]),class:"space-y-4"},[s("div",null,[e[5]||(e[5]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Current Password",-1)),p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter current password"},null,512),[[f,l.value]])]),s("div",null,[e[6]||(e[6]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"New Password",-1)),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter new password"},null,512),[[f,t.value]])]),s("div",null,[e[7]||(e[7]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm New Password",-1)),p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Confirm new password"},null,512),[[f,d.value]])]),o.value?(i(),m("div",L,b(o.value),1)):c("",!0),u.value?(i(),m("div",U,b(u.value),1)):c("",!0),s("button",{type:"submit",disabled:n.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(i(),B(x(R),{key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4"})):c("",!0),e[8]||(e[8]=g(" Change Password ",-1))],8,M)],32)])])]))}});export{G as default};
