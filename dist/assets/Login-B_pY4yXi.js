import{d as k,u as T,Y as L,$ as S,r as l,a as v,e as f,o as i,g as e,f as g,i as t,j as o,k as j,l as h,v as _,b as V,h as B,W as N}from"./index-BgCL6C0w.js";import{L as C}from"./loader-circle-DR73HpBo.js";const U={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},q={class:"sm:mx-auto sm:w-full sm:max-w-md"},A={key:0,class:"flex justify-center mb-4"},D=["src"],I={class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},M={class:"mt-2 text-center text-sm text-gray-600"},R={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},E={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},P={for:"username",class:"block text-sm font-medium text-gray-700"},W={class:"mt-1"},Y={for:"password",class:"block text-sm font-medium text-gray-700"},$={class:"mt-1"},z={key:0,class:"text-red-600 text-sm bg-red-50 p-2 rounded"},F=["disabled"],K=k({__name:"Login",setup(G){const b=T(),d=L();N();const{t:a}=S(),u=l(""),c=l(""),n=l(""),r=l(!1),y=v(()=>d.currentTenant?.name||"Admin Portal"),x=v(()=>d.currentTenant?.logo_url);async function w(){n.value="",r.value=!0;const m=d.currentTenant?.id;if(!m){n.value="Tenant context missing. Refesh the page.",r.value=!1;return}try{await b.loginUser(u.value,c.value,m)}catch(s){n.value=s.message}finally{r.value=!1}}return(m,s)=>(i(),f("div",U,[e("div",q,[x.value?(i(),f("div",A,[e("img",{src:x.value,alt:"Logo",class:"h-16 w-auto object-contain"},null,8,D)])):g("",!0),e("h2",I,t(o(a)("admin.login.title"))+" "+t(y.value),1),e("p",M,t(o(a)("admin.login.subtitle")),1)]),e("div",R,[e("div",E,[e("form",{class:"space-y-6",onSubmit:j(w,["prevent"])},[e("div",null,[e("label",P,t(o(a)("admin.login.username")),1),e("div",W,[h(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=p=>u.value=p),name:"username",type:"text",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[_,u.value]])])]),e("div",null,[e("label",Y,t(o(a)("admin.login.password")),1),e("div",$,[h(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=p=>c.value=p),name:"password",type:"password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[_,c.value]])])]),n.value?(i(),f("div",z,t(n.value),1)):g("",!0),e("div",null,[e("button",{type:"submit",disabled:r.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[r.value?(i(),V(o(C),{key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4"})):g("",!0),B(" "+t(o(a)("admin.login.submit")),1)],8,F)])],32)])])]))}});export{K as default};
