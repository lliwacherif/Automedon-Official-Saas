import{d as y,u as x,r as t,e as m,o as i,g as s,k,f as g,l as b,v as p,i as f,b as h,h as P,j as C}from"./index-C1y38dmy.js";import{L as N}from"./loader-circle-C2t_bVDA.js";const S={class:"p-6"},V={class:"max-w-md bg-white dark:bg-gray-800 rounded-lg shadow p-6"},B={key:0,class:"text-red-600 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-md"},q={key:1,class:"text-green-600 text-sm bg-green-50 dark:bg-green-900/20 p-3 rounded-md"},A=["disabled"],D=y({__name:"Settings",setup(E){const w=x(),d=t(""),r=t(""),l=t(""),n=t(!1),a=t(""),u=t(""),v=async()=>{if(a.value="",u.value="",r.value!==l.value){a.value="New passwords do not match";return}if(r.value.length<6){a.value="Password must be at least 6 characters";return}n.value=!0;try{await w.changeAdminPassword(d.value,r.value),u.value="Password changed successfully",d.value="",r.value="",l.value=""}catch(c){a.value=c.message||"Failed to change password"}finally{n.value=!1}};return(c,e)=>(i(),m("div",S,[e[8]||(e[8]=s("h1",{class:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100"},"Settings",-1)),s("div",V,[e[7]||(e[7]=s("h2",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200"},"Change Admin Password",-1)),s("form",{onSubmit:k(v,["prevent"]),class:"space-y-4"},[s("div",null,[e[3]||(e[3]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Current Password",-1)),b(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter current password"},null,512),[[p,d.value]])]),s("div",null,[e[4]||(e[4]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"New Password",-1)),b(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.value=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter new password"},null,512),[[p,r.value]])]),s("div",null,[e[5]||(e[5]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Confirm New Password",-1)),b(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.value=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirm new password"},null,512),[[p,l.value]])]),a.value?(i(),m("div",B,f(a.value),1)):g("",!0),u.value?(i(),m("div",q,f(u.value),1)):g("",!0),s("button",{type:"submit",disabled:n.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(i(),h(C(N),{key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4"})):g("",!0),e[6]||(e[6]=P(" Change Password ",-1))],8,A)],32)])]))}});export{D as default};
