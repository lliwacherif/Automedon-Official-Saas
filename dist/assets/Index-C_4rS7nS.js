import{u as v}from"./useStore-BEjajSDP.js";import{c as _,d as w,$ as k,Y as C,u as j,r as p,V as S,e as o,o as n,g as e,f as A,C as a,h as d,j as s,a4 as u,F as T,n as M,i as r,X as V,b as B}from"./index-BlVnYu75.js";import{L as N}from"./loader-circle-ClhvQpBH.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=_("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),L={class:"p-6"},O={class:"flex justify-between items-center mb-8"},z={class:"text-2xl font-bold text-gray-800 flex items-center"},F={key:0,class:"flex justify-center py-12"},$={key:1,class:"text-center py-12 bg-white rounded-lg shadow-sm"},D={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},E={class:"p-6 flex-1 flex flex-col"},U={class:"flex items-start justify-between mb-4"},G={class:"flex items-center"},P={class:"w-12 h-12 rounded-lg bg-indigo-50 flex items-center justify-center mr-4 overflow-hidden border border-indigo-100"},X=["src","alt"],Y={class:"text-lg font-bold text-gray-900"},q={class:"mt-1"},H={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},J={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},K={class:"text-gray-600 text-sm mb-4 line-clamp-3"},Q={class:"mt-auto pt-4 border-t border-gray-100"},R=["onClick"],W={key:3,class:"fixed inset-0 z-[100] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Z={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},ee={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full relative"},te={class:"bg-indigo-600 px-4 py-3 sm:px-6 flex justify-between items-center"},se={class:"text-lg leading-6 font-medium text-white",id:"modal-title"},ne={class:"p-6"},oe={class:"text-gray-600 mb-6 text-sm"},le={action:"https://formsubmit.co/liwacherif200@gmail.com",method:"POST",class:"space-y-4"},ie=["value"],ae=["value"],de=["value"],re=["value"],ue=["value"],me=["value"],ce={class:"mt-6 flex justify-end gap-3 pt-4 border-t border-gray-100"},ge={type:"submit",class:"px-4 py-2 bg-indigo-600 border border-transparent rounded-lg text-sm font-medium text-white hover:bg-indigo-700 flex items-center"},ve=w({__name:"Index",setup(pe){const{t:fe}=k(),{apps:f,loading:b,fetchApps:h}=v(),m=C();j();const c=p(!1),i=p(null);p(!1),S(()=>{h()});function y(x){i.value=x,c.value=!0}function g(){c.value=!1,i.value=null}return(x,t)=>(n(),o("div",L,[e("div",O,[e("h1",z,[a(s(u),{class:"w-8 h-8 mr-3 text-indigo-600"}),t[0]||(t[0]=d(" Store (Apps) ",-1))])]),s(b)?(n(),o("div",F,[a(s(N),{class:"animate-spin h-8 w-8 text-indigo-600"})])):s(f).length===0?(n(),o("div",$,[a(s(u),{class:"w-12 h-12 mx-auto text-gray-300 mb-4"}),t[1]||(t[1]=e("p",{class:"text-gray-500"},"Aucune application disponible pour le moment.",-1))])):(n(),o("div",D,[(n(!0),o(T,null,M(s(f),l=>(n(),o("div",{key:l.id,class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full border border-gray-100"},[e("div",E,[e("div",U,[e("div",G,[e("div",P,[l.icon_url?(n(),o("img",{key:0,src:l.icon_url,alt:l.name,class:"w-full h-full object-cover"},null,8,X)):(n(),B(s(u),{key:1,class:"w-6 h-6 text-indigo-500"}))]),e("div",null,[e("h3",Y,r(l.name),1),e("div",q,[l.price>0?(n(),o("span",H,r(l.price.toFixed(2))+" DT ",1)):(n(),o("span",J," Gratuit "))])])])]),e("p",K,r(l.description),1),e("div",Q,[e("button",{onClick:xe=>y(l),class:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},[a(s(u),{class:"w-4 h-4 mr-2"}),t[2]||(t[2]=d(" Commander Application ",-1))],8,R)])])]))),128))])),c.value&&i.value?(n(),o("div",W,[e("div",Z,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:g}),t[12]||(t[12]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",ee,[e("div",te,[e("h3",se,"Commander "+r(i.value.name),1),e("button",{onClick:g,class:"text-white hover:text-gray-200"},[a(s(V),{class:"w-5 h-5"})])]),e("div",ne,[e("p",oe,[t[3]||(t[3]=d(" Veuillez confirmer votre demande pour commander l'application ",-1)),e("strong",null,r(i.value.name),1),t[4]||(t[4]=d(". Une notification sera envoyée à l'administrateur principal. ",-1))]),e("form",le,[e("input",{type:"hidden",name:"_subject",value:`Nouvelle commande d'application: ${i.value.name}`},null,8,ie),t[8]||(t[8]=e("input",{type:"hidden",name:"_next",value:""},null,-1)),t[9]||(t[9]=e("input",{type:"hidden",name:"_captcha",value:"false"},null,-1)),t[10]||(t[10]=e("input",{type:"hidden",name:"_template",value:"table"},null,-1)),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Application",-1)),e("input",{type:"text",value:i.value.name,readonly:"",disabled:"",class:"mt-1 block w-full bg-gray-50 border-gray-300 rounded-md shadow-sm sm:text-sm p-2 border text-gray-500"},null,8,ae),e("input",{type:"hidden",name:"Application",value:i.value.name},null,8,de)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Client (Tenant)",-1)),e("input",{type:"text",value:s(m).currentTenant?.name||"Unknown",readonly:"",disabled:"",class:"mt-1 block w-full bg-gray-50 border-gray-300 rounded-md shadow-sm sm:text-sm p-2 border text-gray-500"},null,8,re),e("input",{type:"hidden",name:"Tenant",value:s(m).currentTenant?.name},null,8,ue),e("input",{type:"hidden",name:"Tenant Slug",value:s(m).currentTenant?.slug},null,8,me)]),t[11]||(t[11]=e("div",null,[e("label",{for:"message",class:"block text-sm font-medium text-gray-700"},"Message (Optionnel)"),e("textarea",{name:"Message",id:"message",rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-2 border",placeholder:"Ajouter une note..."})],-1)),e("div",ce,[e("button",{type:"button",onClick:g,class:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50"}," Annuler "),e("button",ge,[a(s(I),{class:"w-4 h-4 mr-2"}),t[7]||(t[7]=d(" Envoyer la demande ",-1))])])])])])])])):A("",!0)]))}});export{ve as default};
