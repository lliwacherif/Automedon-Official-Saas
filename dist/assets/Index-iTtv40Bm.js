import{c as f,d as g,$ as v,a0 as w,r as m,V as b,Y as k,U as C,e as l,o as r,g as e,i as o,j as t,l as L,D as d,v as T,f as j,F as V,n as S,G as q,h as I,a5 as N,a1 as B}from"./index-C1y38dmy.js";import{C as D}from"./car-BdIB60fy.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=f("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},M={class:"sm:flex sm:items-center"},U={class:"sm:flex-auto"},$={class:"text-2xl font-semibold text-gray-900"},G={class:"mt-2 text-sm text-gray-700"},H={class:"mt-6 flex justify-between items-center"},P={class:"relative max-w-sm w-full"},R={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Y=["placeholder"],z={class:"mt-8 flex flex-col"},A={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},J={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},K={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},O={class:"min-w-full divide-y divide-gray-300"},Q={class:"bg-gray-50"},W={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},X={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},Z={scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},ee={class:"sr-only"},te={class:"divide-y divide-gray-200 bg-white"},se={key:0},oe={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},ae={key:1},ie={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},ne={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},le={class:"flex items-center"},re={class:"h-10 w-10 flex-shrink-0"},ce=["src"],de={key:1,class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},_e={class:"ml-4"},me={class:"font-medium text-gray-900"},he={class:"text-gray-500"},pe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},ue={class:"inline-flex rounded-md bg-gray-100 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"},ye={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ve=g({__name:"Index",setup(xe){const{t:i}=v(),{tenantPath:y}=w(),_=m([]),h=m(!0),c=m("");b(async()=>{await x()});async function x(){try{const n=k();let a=C.from("cars").select("*");n.currentTenant?.id&&(a=a.eq("tenant_id",n.currentTenant.id));const{data:s,error:u}=await a.order("created_at",{ascending:!1});if(u)throw u;_.value=s||[]}catch(n){console.error("Error fetching cars:",n)}finally{h.value=!1}}const p=()=>{if(!c.value)return _.value;const n=c.value.toLowerCase();return _.value.filter(a=>a.make?.toLowerCase().includes(n)||a.model.toLowerCase().includes(n)||a.license_plate.toLowerCase().includes(n))};return(n,a)=>(r(),l("div",F,[e("div",M,[e("div",U,[e("h1",$,o(t(i)("admin.history.title")),1),e("p",G,o(t(i)("admin.history.subtitle")),1)])]),e("div",H,[e("div",P,[e("div",R,[d(t(E),{class:"h-5 w-5 text-gray-400"})]),L(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:t(i)("admin.history.search_placeholder")},null,8,Y),[[T,c.value]])])]),e("div",z,[e("div",A,[e("div",J,[e("div",K,[e("table",O,[e("thead",Q,[e("tr",null,[e("th",W,o(t(i)("admin.history.vehicle")),1),e("th",X,o(t(i)("admin.history.license_plate")),1),e("th",Z,[e("span",ee,o(t(i)("common.actions")),1)])])]),e("tbody",te,[h.value?(r(),l("tr",se,[e("td",oe,o(t(i)("admin.history.loading")),1)])):p().length===0?(r(),l("tr",ae,[e("td",ie,o(t(i)("admin.history.no_cars")),1)])):j("",!0),(r(!0),l(V,null,S(p(),s=>(r(),l("tr",{key:s.id},[e("td",ne,[e("div",le,[e("div",re,[s.image_url?(r(),l("img",{key:0,src:s.image_url,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,ce)):(r(),l("div",de,[d(t(D),{class:"h-6 w-6 text-gray-500"})]))]),e("div",_e,[e("div",me,o(s.make)+" "+o(s.model),1),e("div",he,o(s.year),1)])])]),e("td",pe,[e("span",ue,o(s.license_plate),1)]),e("td",ye,[d(t(B),{to:t(y)(`/admin/history/${s.id}`),class:"text-indigo-600 hover:text-indigo-900 flex items-center justify-end gap-1"},{default:q(()=>[d(t(N),{class:"w-4 h-4"}),I(" "+o(t(i)("admin.history.view_history")),1)]),_:1},8,["to"])])]))),128))])])])])])])]))}});export{ve as default};
